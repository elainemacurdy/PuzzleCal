<html>
  <head>
    <title>Emmy's Calendar</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="./js/puzzles.js"></script>
    <script src="./js/Calendar.js"></script>
    <script src="./js/CalendarDay.js"></script>
    <script src="./js/Dialog.js"></script>
    <script src="./js/Puzzle.js"></script>
    <script src="./js/MathPuzzle.js"></script>
    <script src="./js/ReadingPuzzle.js"></script>
    <script type="text/javascript">
      const constants = {
        AM: "T07:10:00.000",
        CORRECT: [
          "images/correct.1.png",
          "images/correct.2.png",
          "images/correct.3.png",
          "images/correct.4.jpg",
          "images/correct.5.jpg",
          "images/correct.6.jpg"
        ],
        INCORRECT: [
          "images/incorrect.1.png",
          "images/incorrect.2.png",
          "images/incorrect.3.png",
          "images/incorrect.4.gif",
          "images/incorrect.5.jpg",
          "images/incorrect.6.png"
        ],
        PM: "T18:00:00.000",
        READING: {
          ant: "images/reading.ant.png",
          car: "images/reading.car.png",
          dog: "images/reading.dog.png",
          hat: "images/reading.hat.png",
          pony: "images/reading.pony.png",
          sun: "images/reading.sun.png"
        }
      };

      $(document).ready(function() {
        const searchParam = /\bdate=([^&]*)\b/.exec(location.search);
        const date = (searchParam && searchParam.length > 1) ? searchParam[1] : undefined;
        const resetParam = /\breset=([^&]*)\b/.exec(location.search);
        const isReset = (resetParam && resetParam.length > 1) ? (resetParam[1] === "true") : false;
        if (isReset) {
          localStorage.clear();
        }
        const calendar = new Calendar({
          dialog: new Dialog($(".Dialog")),
          now: moment(date)
        });
        calendar.init();
      });
    </script>
    <link type="text/css" rel="stylesheet" href="./css/normalize.css" />
    <link type="text/css" rel="stylesheet" href="./css/Calendar.css" />
    <link type="text/css" rel="stylesheet" href="./css/CalendarDay.css" />
    <link type="text/css" rel="stylesheet" href="./css/Dialog.css" />
    <link type="text/css" rel="stylesheet" href="./css/MathPuzzle.css" />
    <link type="text/css" rel="stylesheet" href="./css/Puzzle.css" />
    <link type="text/css" rel="stylesheet" href="./css/ReadingPuzzle.css" />
    <style type="text/css">
      body {
        background-color: #e6e6fa;
        font-family: Chalkboard, "Comic Sans MS", Helvetica, sans-serif;
        font-size: 15px;
        margin: 0px 50px;
      }

      input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button {
        /* display: none; <- Crashes Chrome on hover */
        -webkit-appearance: none;
        margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
      }

      .content {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: center;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div class="content">
      <div class="Calendar">
        <div class="Calendar__header">Monday</div>
        <div class="Calendar__header">Tuesday</div>
        <div class="Calendar__header">Wednesday</div>
        <div class="Calendar__header">Thursday</div>
        <div class="Calendar__header">Friday</div>
        <div class="Calendar__day" data-date-id="2018-07-23_AM">
          <button class="puzzleButton puzzleButton__zero"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-24_AM">
          <button class="puzzleButton puzzleButton__one"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-25_AM">
          <button class="puzzleButton puzzleButton__two"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-26_AM">
          <button class="puzzleButton puzzleButton__three"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-27_AM">
          <button class="puzzleButton puzzleButton__four"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-23_PM">
          <button class="puzzleButton puzzleButton__five"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-24_PM">
          <button class="puzzleButton puzzleButton__six"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-25_PM">
          <button class="puzzleButton puzzleButton__seven"></button>
        </div>
        <div class="Calendar__day" data-date-id="2018-07-26_PM">
          <button class="puzzleButton puzzleButton__eight"></button>
        </div>
        <div></div>
      </div>
    </div>
    <div class="Dialog">
      <div class="Dialog__closeButton">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
          <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/>
        </svg>
      </div>
      <div class="Dialog__puzzle" data-date-id="2018-07-23_AM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-23_PM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-24_AM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-24_PM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-25_AM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-25_PM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-26_AM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-26_PM"></div>
      <div class="Dialog__puzzle" data-date-id="2018-07-27_AM"></div>
    </div>
  </body>
</html>
